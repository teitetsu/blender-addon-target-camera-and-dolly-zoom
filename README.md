# Target Camera and Dolly Zoom for Blender

Blenderのカメラに以下の機能を提供します。

1. 標準カメラとターゲットカメラの切替
2. ドリーズーム機能

## ターゲットカメラ機能

- 目標点（ターゲット）を注視するターゲットカメラと、標準カメラの切り換え
- カメラからターゲットまでの距離を調整
- ターゲットの回転をカメラに一致

![ターゲットカメラ動作](images/target_camera_01.gif)

## ドリーズーム機能

- **ターゲットカメラ時のみ有効**
- カメラのドリー（前後移動）と、ズームを同時調整

![ドリーズーム動作](images/dolly_zoom_01.gif)

## インストール方法（Blender 4.2.7 LTS）

1. 右上のCodeから、zipファイルをダウンロード
2. Blenderを起動し、 `Edit > Preferences > Get Extensions` を開く
3. 右上のトグルボタンから`Install from Disk` をクリックし、ダウンロードしたzipファイルを選択
4. チェックボックスをオンにして有効化

追加される場所はカメラのデータプロパティ

![追加される場所](images/addon_location_01.jpg)

## 仕様

- 動作確認は Blender 4.2.7 LTS、3.6.4 LTSで行っています。
- このアドオンは、ターゲットカメラの判断を、カスタムプロパティで行っています  
ターゲットカメラを使う場合は、カスタムプロパティを消さないでください。

### TIPS

- 以下のようなトラブルは、ターゲットカメラをON/OFFすると簡単に戻せます。
  - カメラ名とターゲット名のズレ
  - カメラをコピーした際、複数のカメラが同じターゲットをトラックしている
- カメラターゲットを選択したい場合、「ターゲット選択ボタン」が便利
- 「ターゲットの向き合わせ」ボタンは、ターゲットの回転を、カメラの回転と一致させます  
ターゲットを画面方向に移動させたい時に使えるかもしれません  

### できること、できないこと

このアドオンは「漫画のカメラアングル検討」のために作りました。  
シンプルに、複雑なリグを組まないことを優先しています。  
そのため、以下のような仕様となっています。

- 「カメラのロール角」は無視
  - トラックコンストレインの仕様
- リグやペアレントを組んだカメラの場合、意図せぬ挙動をする可能性があります。
  - 様々なケースを想定したエラー対策は難しいので、よほどのことが無い限り修正はしません。

カメラロールを維持したい場合は、このアドオンは使用せず、以下のようなリグが良さそうです

- Position Empty
  - Rotation Empty
    - Roll Empty
      - Camera
- Target Empty

Rotation Emptyにトラックコンストレインを適応、ロール角度はRoll Emptyで制御する。
